<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Test</title>
    <script src="../../dist/index.js" defer></script>
    <style>
      web-app:not(:defined) {
        opacity: 0;
      }
    </style>
  </head>
  <body>
    <web-app>
      <define-element name="element-abc">
        <element-attr name="name" type="string">My Name</element-attr>
        <element-attr name="age" type="number">10</element-attr>

        <script type="realm-module">
          onMounted(async (self) => {
            const response = await fetch("https://jsonplaceholder.typicode.com/todos/1");
            console.log("hello this onMount", self.$attr('name'), await response.json());
          });

          onStatesDidUpdate((oldValue, newValue) => {
            console.log("onStateDidUpdate", oldValue, newValue);
          });

          onAttrDidUpdate((oldValue, newValue) => {
            console.log("onAttrDidUpdate", oldValue, newValue);
          });

          onUnmounted(() => {
            console.log("onUnmount");
          });
        </script>

        <div>Helllo my name is: <slot name="name"></slot></div>
        <div>My age is: <slot name="age"></slot></div>
        <div>My counter is: 0</div>
        <button>Counter</button>
        <slot></slot>
      </define-element>

      <define-element name="element-def">
        <div>def</div>
      </define-element>

      <element-abc name="Ribhararnus Pracutian" age="33">
        <strong>This is children</strong>
      </element-abc>

      <hr />
      <element-abc></element-abc>

      <hr />
      <element-def></element-def>

      <br />

      <show-element value="" eq="test">
        <strong>hello world</strong>
      </show-element>
    </web-app>
  </body>
</html>
